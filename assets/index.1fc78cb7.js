var te=Object.defineProperty;var H=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var G=(o,s,c)=>s in o?te(o,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[s]=c,F=(o,s)=>{for(var c in s||(s={}))oe.call(s,c)&&G(o,c,s[c]);if(H)for(var c of H(s))ne.call(s,c)&&G(o,c,s[c]);return o};import{s as f,u as ae,r as g,R as e,p as se,t as re,a as le,P as ce,A as ie}from"./vendor.d4a8f7c0.js";const de=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const N of i.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&r(N)}).observe(document,{childList:!0,subtree:!0});function c(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=c(n);fetch(n.href,i)}};de();const ue="https://testnet.toncenter.com/api/v2/jsonRPC",ge="https://testnet.tonscan.org",me="840d28de69582aa64848c262cd4633e9736ebc73b7c3cb79c75af1b944368192";var pe="data:image/png;base64,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";const{NftCollection:fe,NftItem:L,NftMarketplace:Ce,NftSale:Ae}=f.token.nft,A=new f(new f.HttpProvider(ue,{apiKey:me})),he=()=>{const o=ae(),[s,c]=g.exports.useState({}),[r,n]=g.exports.useState(""),[i,N]=g.exports.useState(""),[w,P]=g.exports.useState(""),[S,W]=g.exports.useState(""),[v,b]=g.exports.useState(null),[m,x]=g.exports.useState(null),[J,U]=g.exports.useState({}),[h,O]=g.exports.useState(null),[D,R]=g.exports.useState(""),[I,B]=g.exports.useState(""),[C,u]=g.exports.useState(!1),M=t=>{N(t.target.value)},j=t=>{P(t.target.value)},Z=t=>{W(t.target.value)},q=t=>{R(t.target.value)},Q=t=>{B(t.target.value)},K=async()=>{u(!0);try{if(window.tonProtocolVersion||window.tonProtocolVersion>1){window.ton.isTonWallet&&console.log("TON Wallet Extension found!");const l=await window.ton.send("ton_requestWallets"),a=new f.utils.Address(l[0].address);console.log("Connected accounts:",l),console.log("Connected wallet address:",a.toString(!0,!0,!0)),n(a),c(await A.getTransactions(a))}else o("Please update your TON Wallet Extension \u{1F48E}"),location.href="https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd"}catch(t){console.error(t)}u(!1)},z=async()=>{u(!0);const t=window.ton,l=new fe(A.provider,{ownerAddress:r,royalty:w/100,royaltyAddress:r,collectionContentUri:i,nftItemContentBaseUri:S,nftItemCodeHex:L.codeHex});console.log("Collection data:",l);const a=await l.getAddress();let p=new Set;if(s.forEach(T=>{try{p.add(T.out_msgs[0].destination)}catch{}}),p.has(a.toString(!0,!0,!0))){console.log("Collection already deployed!"),o.show("Collection already in blockchain \u{1F48E} \u2014 feel free to add new NFTs!"),b(l),x(a),U(await A.getTransactions(a)),await V(l),u(!1);return}console.log("Collection address (changes with provided data):",a.toString(!0,!0,!0));const E=await(await l.createStateInit()).stateInit.toBoc(!1),d=f.utils.bytesToBase64(E);t.send("ton_sendTransaction",[{to:a.toString(!0,!0,!0),value:f.utils.toNano(.05 .toString()).toString(),stateInit:d,dataType:"boc"}]).then(T=>{T?(console.log("Transaction successful"),o.show("Transaction successful"),x(a),b(l)):(console.log("Wallet didn't approved minting transaction"),o.show("Wallet didn't approved minting transaction")),u(!1)}).catch(T=>{o.show("Error, open the console to see the error"),console.error(T),u(!1)})},k=async()=>{u(!0);const t=window.ton,l=f.utils.toNano(.05 .toString()),p=await(await v.createMintBody({amount:l,itemIndex:D,itemContentUri:I,itemOwnerAddress:r})).toBoc(!1),y=f.utils.bytesToBase64(p);let E=new Set;if(J.forEach(d=>{try{E.add(d.in_msg.msg_data.body)}catch{}}),E.has(y)){console.log("NFT already deployed!"),o.show("This NFT already deployed \u{1F48E}"),O(!0),u(!1);return}t.send("ton_sendTransaction",[{to:m.toString(!0,!0,!0),value:l.toString(),data:y,dataType:"boc"}]).then(d=>{d?(console.log("Transaction successful"),o.show("Transaction successful")):(console.log("Wallet didn't approved minting transaction"),o.show("Wallet didn't approved minting transaction")),u(!1)}).catch(d=>{o.show("Error, open the console to see the error"),console.log(d),u(!1)})},X=async()=>{R(""),B(""),O(!1)},V=async t=>{var l;u(!0);try{const a=await t.getCollectionData();a.ownerAddress=a.ownerAddress.toString(!0,!0,!0),console.log("Collection data:"),console.log(a);const p=await t.getRoyaltyParams();p.royaltyAddress=p.royaltyAddress.toString(!0,!0,!0),console.log("Collection royalty params:"),console.log(p);const y=(await t.getNftItemAddressByIndex(0)).toString(!0,!0,!0);console.log('NFT "item 0" address:'),console.log(y);const E=new L(A.provider,{address:y}),d=await t.methods.getNftItemContent(E);d.collectionAddress=d.collectionAddress.toString(!0,!0,!0),d.ownerAddress=(l=d.ownerAddress)==null?void 0:l.toString(!0,!0,!0),console.log('NFT "item 0" data:'),console.log(d)}catch(a){console.log(a),setTimeout(()=>{o.show("Error to parse collection info, open the console to see the error")},3100)}u(!1)},Y=()=>e.createElement("button",{className:"cta-button primary-button",onClick:K},"Connect TON Wallet"),_=()=>e.createElement("div",{className:"connected-container"},e.createElement("form",{onSubmit:t=>{t.preventDefault(),z()}},e.createElement("div",{className:""},e.createElement("p",null,e.createElement("input",{type:"text",placeholder:"Collection content \u2014 URL to .json file",value:i,onChange:M})),e.createElement("p",null,e.createElement("input",{type:"text",placeholder:"NFT content \u2014 URL where NFT files are stored",value:S,onChange:Z})),e.createElement("p",null,e.createElement("input",{max:"100",type:"text",placeholder:"Royalty (0-100%)",value:w,onChange:j}))),e.createElement("div",{className:""},e.createElement("button",{type:"submit",className:"cta-button secondary-button"},"Create collection")))),$=()=>e.createElement("div",{className:"connected-container"},e.createElement("form",{onSubmit:t=>{t.preventDefault(),k()}},e.createElement("div",{className:""},e.createElement("p",null,e.createElement("input",{type:"text",placeholder:"NFT index \u2014 unique index of the NFT. Starts from 0",value:D,onChange:q})),e.createElement("p",null,e.createElement("input",{type:"text",placeholder:"NFT content \u2014 name of .json file with NFT params",value:I,onChange:Q}))),e.createElement("div",{className:""},e.createElement("button",{type:"submit",className:"cta-button primary-button"},"Create NFT")),h,e.createElement("div",{className:""}))),ee=()=>e.createElement("div",{className:"connected-container"},e.createElement("div",{className:""},e.createElement("a",{href:ge+"/nft/"+m.toString(!0,!0,!0),target:"_blank"},e.createElement("button",{className:"cta-button primary-button"},"See collection in TonScan Explorer"))),e.createElement("p",null,e.createElement("a",{className:"return-button",onClick:X},"Create more NFT")));return e.createElement("div",{className:"App"},e.createElement("div",{className:v?"authed-container":"container"},e.createElement("div",{className:"header-container"},e.createElement("p",{className:"header"},"\u{1F5BC} ",e.createElement("span",{className:"gradient-text"},"TON Minter")),e.createElement("p",{className:"sub-text"},!r&&"Deploy your first NFT collection in TON testnet \u2014 it's free! \u2728",r&&!m&&"Step 1: Prepare your NFT collection to add it to the blockchain",r&&m&&!h&&"Step 2: Mint your first NFTs \u{1F648}",r&&m&&h&&"Step 3: See the result in the explorer \u{1F680}"),C&&e.createElement("div",{className:"loading-container"},e.createElement("div",{className:"lds-dual-ring"})),!r&&Y(),r&&!m&&!h&&!C&&_(),r&&m&&!h&&!C&&$(),r&&m&&h&&!C&&ee()),e.createElement("div",{className:r?"footer-container footer-relative":"footer-container"},e.createElement("p",{className:"footer-text"},"Made by ",e.createElement("img",{width:20,style:{verticalAlign:"middle"},src:pe,alt:""})," ",e.createElement("a",{className:"footer-text",href:"#"}," TON Builders")," team"))))},ye={position:se.BOTTOM_CENTER,timeout:3e3,offset:"50px",transition:re.FADE,containerStyle:{fontFamily:"'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}};le.render(e.createElement(e.StrictMode,null,e.createElement(ce,F({template:ie},ye),e.createElement(he,null))),document.getElementById("root"));
